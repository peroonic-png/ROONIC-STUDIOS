<!DOCTYPE html>
<html lang="de" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roonic Studios</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Custom Config for Tailwind to match the React theme -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        purple: {
                            400: '#c084fc',
                            500: '#a855f7',
                            600: '#9333ea',
                            900: '#581c87',
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #111;
            color: #e5e7eb;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .custom-scrollbar::-webkit-scrollbar {
            height: 8px;
            background-color: #1a1a1a;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #333;
            border-radius: 4px;
        }
        /* Hide scrollbar for clean modal */
        .no-scroll {
            overflow: hidden;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col selection:bg-purple-500 selection:text-white">

    <!-- NAVIGATION -->
    <nav class="bg-[#1a1a1a] border-b border-[#333] sticky top-0 z-50 shadow-lg shadow-black/50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center gap-2 cursor-pointer" onclick="app.switchTab('home')">
                    <div class="bg-purple-600 p-1.5 rounded-lg shadow-[0_0_10px_rgba(147,51,234,0.5)]">
                        <i data-lucide="code" class="text-white w-6 h-6"></i>
                    </div>
                    <span class="font-bold text-xl text-white tracking-wider">ROONIC<span class="text-purple-400">STUDIO'S</span></span>
                </div>

                <!-- Desktop Nav -->
                <div class="hidden md:flex items-center space-x-1" id="desktop-nav">
                    <!-- Nav items injected by JS -->
                </div>

                <!-- Mobile Menu Toggle -->
                <div class="md:hidden flex items-center gap-4">
                    <button id="lang-toggle-mobile" class="text-xs font-bold text-purple-400 border border-purple-400 px-2 py-1 rounded">DE</button>
                    <button class="text-gray-300" onclick="app.toggleMobileMenu()">
                        <i data-lucide="menu" id="mobile-menu-icon"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Nav -->
        <div id="mobile-nav" class="hidden md:hidden bg-[#222] border-t border-[#333]">
            <!-- Mobile items injected by JS -->
        </div>
    </nav>

    <!-- MAIN CONTENT AREA -->
    <main id="app-content" class="flex-grow">
        <!-- Content injected by JS -->
    </main>

    <!-- FOOTER -->
    <footer class="bg-[#0f0f0f] border-t border-[#222] py-12 mt-12 text-center text-gray-500 text-sm">
        <p class="mb-2">&copy; 2024 Roonic Studios. Made by peroonic.</p>
    </footer>

    <!-- MODALS CONTAINER -->
    <div id="modal-layer" class="relative z-[100]"></div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // --- DATA & CONFIG ---
        const translations = {
            de: {
                nav_home: "Startseite", nav_mc: "Minecraft", nav_web: "Webseiten", nav_apps: "Apps", nav_hire: "Beauftrage Mich",
                hero_title: "Dein Code. Dein Server. Deine Vision.", hero_sub: "Wir entwickeln professionelle L√∂sungen f√ºr Minecraft, Web und Mobile. Von peroonic f√ºr die Community.",
                top_projects: "Unsere Top Projekte", mc_title: "Roonic Resources", mc_sub: "Plugins, Packs & Mehr",
                filter_all: "Alle", filter_plugin: "Plugins", filter_resourcepack: "Packs", filter_datapack: "Datapacks",
                table_resource: "Ressource", table_category: "Kategorie", table_stats: "Stats", table_action: "Aktion",
                detail_back: "Zur√ºck zur √úbersicht", detail_download: "Jetzt Downloaden", detail_overview: "√úbersicht",
                detail_history: "Version History", detail_config: "Konfiguration", detail_gallery: "Galerie",
                detail_info: "Informationen", detail_links: "Externe Links", label_author: "Autor", label_client: "Kunde",
                label_downloads: "Downloads", label_type: "Typ", label_updated: "Aktualisiert", web_title: "Web Development Portfolio",
                web_visit: "Besuchen", app_title: "Mobile Apps", app_details: "Details & Download", no_entries: "Keine Eintr√§ge gefunden.",
                download_rp_warn: "Wichtiger Hinweis", download_rp_text: "Dieses Plugin ben√∂tigt ein Resource Pack f√ºr die volle Funktionalit√§t (besonders bei Nutzung von LuckPerms). Bitte installiere es zus√§tzlich.",
                btn_download_rp: "Resource Pack herunterladen", ver_version: "Version", ver_date: "Datum", ver_changelog: "√Ñnderungen",
                modal_title: "Download Hinweis", modal_text: "Dieses Plugin ben√∂tigt zwingend das zugeh√∂rige Resource Pack, um korrekt zu funktionieren (Custom Texturen & Sounds).",
                modal_confirm: "Verstanden & Downloaden", modal_cancel: "Abbrechen", config_copy: "Kopieren", config_copied: "Kopiert!",
                hire_title: "Projekt Anfrage", hire_desc: "F√ºlle das Formular aus, um ein kostenloses Projekt bei Roonic Studios anzufragen. Wir melden uns schnellstm√∂glich bei dir.",
                hire_q1: "Dein Discord Name", hire_q2: "Was ist dein Auftrag? (Details)", hire_q3: "Wof√ºr ben√∂tigst du das Projekt?",
                hire_q4: "Welcher Entwickler soll das machen?", hire_q5: "Ergebnis NICHT auf dieser Seite ver√∂ffentlichen", hire_q_type: "Projekt-Kategorie",
                hire_q_deadline: "Wann muss es fertig sein?", hire_deadline_hint: "(Deutsche Zeit, bis 23:59 Uhr)",
                hire_coder_random: "Zuf√§llig (Verf√ºgbarer Dev)", hire_coder_peroonic: "peroonic (Leitung)",
                hire_type_plugin: "Minecraft Plugin", hire_type_web: "Webseite", hire_type_app: "Mobile App", hire_type_setup: "Server Konfiguration", hire_type_other: "Sonstiges",
                hire_info_privacy_title: "üîí Privatsph√§re", hire_info_privacy: "Deine Daten sind sicher. Der Source Code wird nicht ohne Absprache mit dir im Internet hochgeladen.",
                hire_info_cost_title: "üí∏ Kostenlos auf Discord", hire_info_cost: "Dieser Dienst ist KOSTENLOS, sofern du auf dem ROONIC STUDIO's Discord bist.",
                hire_discord_link_text: "Discord beitreten", hire_info_access_title: "üîë Zugriff", hire_info_access: "Um alles richtig testen zu k√∂nnen, ben√∂tige ich tempor√§ren Zugriff auf dein Panel oder deinen Server.",
                hire_info_rights_title: "‚öñÔ∏è Kommerzielle Nutzung", hire_info_rights: "Sollte das Projekt f√ºr YouTube, Twitch oder kommerziell genutzt werden, verlinke bitte ROONIC STUDIO's.",
                hire_accept: "Ich habe die Infos gelesen und akzeptiere diese Bedingungen.", hire_btn_verify: "Weiter",
                hire_verify_title: "Menschliche Verifizierung", hire_verify_btn: "Verifizieren & Absenden",
                hire_success_title: "Gesendet!", hire_success_msg: "Dein Auftrag wurde per Webhook √ºbertragen. Wir kontaktieren dich bald √ºber Discord.",
                hire_contact_info: "Kontakt f√ºr Notf√§lle:", hire_error: "Fehler beim Senden."
            },
            en: {
                nav_home: "Home", nav_mc: "Minecraft", nav_web: "Websites", nav_apps: "Apps", nav_hire: "Hire Me",
                hero_title: "Your Code. Your Server. Your Vision.", hero_sub: "We develop professional solutions for Minecraft, Web, and Mobile.",
                top_projects: "Top Projects", mc_title: "Resources", mc_sub: "Plugins & More",
                filter_all: "All", filter_plugin: "Plugins", filter_resourcepack: "Packs", filter_datapack: "Datapacks",
                table_resource: "Resource", table_category: "Category", table_stats: "Stats", table_action: "Action",
                detail_back: "Back", detail_download: "Download", detail_overview: "Overview",
                detail_history: "History", detail_config: "Config", detail_gallery: "Gallery",
                detail_info: "Info", detail_links: "Links", label_author: "Author", label_client: "Client",
                label_downloads: "Downloads", label_type: "Type", label_updated: "Updated",
                web_title: "Web Portfolio", web_visit: "Visit", app_title: "Apps", app_details: "Details",
                no_entries: "None found.", download_rp_warn: "Notice", download_rp_text: "Requires a resource pack.",
                btn_download_rp: "Download RP", ver_version: "Version", ver_date: "Date", ver_changelog: "Changes",
                modal_title: "Download", modal_text: "Make sure to download the RP.", modal_confirm: "Understood",
                modal_cancel: "Cancel", config_copy: "Copy", config_copied: "Copied!", hire_title: "Request Project",
                hire_desc: "Fill out the form to hire us. We will get back to you soon.", hire_q1: "Discord Name",
                hire_q2: "What is your request?", hire_q3: "Purpose?", hire_q4: "Developer?", hire_q5: "Do not publish result",
                hire_q_type: "Category", hire_q_deadline: "Deadline", hire_deadline_hint: "(German Time, EOD)",
                hire_coder_random: "Random", hire_coder_peroonic: "peroonic", hire_type_plugin: "Plugin",
                hire_type_web: "Website", hire_type_app: "App", hire_type_setup: "Setup", hire_type_other: "Other",
                hire_info_privacy_title: "üîí Privacy", hire_info_privacy: "Your data is safe with us.",
                hire_info_cost_title: "üí∏ Free", hire_info_cost: "Free for Discord members.", hire_discord_link_text: "Join Discord",
                hire_info_access_title: "üîë Access", hire_info_access: "I need server access to test everything.",
                hire_info_rights_title: "‚öñÔ∏è Credits", hire_info_rights: "Please link Roonic Studio's if used commercially.",
                hire_accept: "I accept the terms.", hire_btn_verify: "Next", hire_verify_title: "Verification",
                hire_verify_btn: "Verify & Submit", hire_success_title: "Success!", hire_success_msg: "Sent. We will contact you.",
                hire_contact_info: "Emergency contact:", hire_error: "Error."
            }
        };

        const database = [
            {
                id: 'mc-torrap', category: 'minecraft', subcategory: 'Plugin',
                title: { de: 'Erweitertes J√§ger & Gejagte', en: 'Advanced Hunt & Seek' },
                version: '1.21.11', author: 'peroonic', client: 'TorraP',
                clientImage: 'https://placehold.co/100x100/333/purple?text=TP',
                clientLinks: { youtube: 'https://www.youtube.com/@TorraP_YT', discord: 'https://discord.gg/nyMkw6qN' },
                shortDesc: { de: 'Vollautomatisches Manhunt/Fangen-Event Plugin mit GUI und Stats.', en: 'Fully automated Manhunt/Tag event plugin with GUI and Stats.' },
                description: {
                    de: `<h2 class="text-xl font-bold mb-2 text-purple-400">Erweitertes J√§ger & Gejagte Event</h2><p class="mb-4">Verwandle deinen Server mit Erweitertes J√§ger & Gejagte, einem vollautomatischen und extrem anpassbaren Manhunt/Fangen-Event-Plugin. Bestimme einen J√§ger, lass die Gejagten (Runner) frei und die Verfolgungsjagd kann beginnen! Perfekt f√ºr Community-Events.</p><h3 class="font-bold text-lg mt-4 mb-2">‚≠ê Kern-Features</h3><ul class="list-disc pl-5 mb-4 space-y-2 text-gray-300"><li>üéØ <strong>Automatischer Spielablauf:</strong> Countdown, Rollenzuweisung und Game-Loop.</li><li>‚öôÔ∏è <strong>Umfangreich Konfigurierbar:</strong> Spieldauer, Insta-Kill, Sounds, Nachrichten via GUI oder Config.</li><li>üó∫Ô∏è <strong>Arena-Management:</strong> Grenzen, Lobby und mehrere Spawnpunkte.</li><li>üìä <strong>Statistiken & Ranglisten:</strong> Kills, √úberlebenszeit, /stats und Leaderboards.</li><li>üîä <strong>Immersives Feedback:</strong> "Herzschlag"-Sound wenn der J√§ger nahe ist!</li><li>‚ú® <strong>Glow-Mechanik:</strong> Gejagte leuchten lassen f√ºr strategische Tiefe.</li></ul><h3 class="font-bold text-lg mt-4 mb-2">üöÄ Einrichtungs-Kurzanleitung</h3><ol class="list-decimal pl-5 space-y-1 text-gray-300"><li><strong>Grenzen:</strong> /hideandseek setpos1 & setpos2</li><li><strong>Lobby:</strong> /hideandseek setlobby</li><li><strong>Spawns:</strong> /hideandseek setspawn seeker | hider [id]</li><li><strong>Start:</strong> /hideandseek start [Spielername]</li></ol>`,
                    en: `<h2 class="text-xl font-bold mb-2 text-purple-400">Advanced Hunt & Seek Event</h2><p class="mb-4">Transform your server with Advanced Hunt & Seek, a fully automated and highly customizable Manhunt/Tag event plugin.</p>`
                },
                images: ['https://i.imgur.com/Dh5KA7n.png','https://i.imgur.com/gKoi1xb.png','https://i.imgur.com/xFymzbR.png','https://i.imgur.com/zLvrp6e.png','https://i.imgur.com/heLC6v7.png'],
                config: `settings:\n  spawn-location:\n    world: world... (truncated for brevity in demo)`,
                downloads: 'N/A', rating: 5, updated: { de: 'Heute', en: 'Today' },
                links: { downloadFile: 'torrap-event-tag-1.0-SNAPSHOT.jar', resourcePackFile: 'TorraP_Hunt_Resources.zip', spigot: '#', modrinth: '#' },
                versionHistory: [{ ver: '1.21.11', date: '10.10.2025', desc: 'Performance Updates' }, { ver: '1.21.0', date: '01.09.2025', desc: 'Release' }],
                requiresResourcePack: true, featured: true, visible: true
            },
            {
                id: 'mc-itemchallenge', category: 'minecraft', subcategory: 'Plugin',
                title: { de: 'Item Challenge', en: 'Item Challenge' },
                version: '1.21.11', author: 'peroonic', client: 'Noone',
                clientImage: 'https://placehold.co/100x100/333/orange?text=NO',
                shortDesc: { de: 'Vollautomatisches Minigame: Finde das Item oder scheide aus!', en: 'Fully automated mini-game: Find the item or get eliminated!' },
                description: {
                    de: `<h2 class="text-xl font-bold mb-2 text-purple-400">Item Challenge</h2><p>Finde das Item oder scheide aus! Vollautomatisches System.</p>`,
                    en: `<h2 class="text-xl font-bold mb-2 text-purple-400">Item Challenge</h2><p>Find the item or get eliminated!</p>`
                },
                images: ['https://i.imgur.com/SdmRnMY.png','https://i.imgur.com/7LBpHGs.png','https://i.imgur.com/v0wluT1.png'],
                downloads: '0', rating: 5, updated: { de: 'Heute', en: 'Today' },
                links: { downloadFile: 'item-challenge-1.0-SNAPSHOT.jar' },
                featured: true, visible: true
            },
            { id: 'mc-1', category: 'minecraft', subcategory: 'Plugin', title: { de: 'RoonicCore' }, visible: false, featured: true },
            { id: 'mc-2', category: 'minecraft', subcategory: 'Resource Pack', title: { de: 'Crystal PvP' }, visible: false, featured: true },
            { id: 'web-1', category: 'website', title: { de: 'Clan Portal' }, visible: false, featured: true },
            { id: 'app-1', category: 'app', title: { de: 'ServerMonitor' }, visible: false, featured: true }
        ];

        // --- STATE MANAGEMENT ---
        const app = {
            state: {
                tab: 'home',
                lang: 'de',
                selectedItem: null,
                mobileMenuOpen: false,
                mcFilter: 'all',
                activeDetailTab: 'overview',
                hireStep: 1,
                hireData: { discord: '', request: '', purpose: '', coder: 'random', type: 'Plugin', deadline: '', noPublish: false, accepted: false },
                isSubmitting: false
            },

            // Init
            init: function() {
                this.renderNav();
                this.renderContent();
                lucide.createIcons();
            },

            // Helpers
            t: function(key) {
                return translations[this.state.lang][key] || key;
            },
            getLoc: function(obj) {
                if (!obj) return '';
                if (typeof obj === 'string') return obj;
                return obj[this.state.lang] || obj['de'] || '';
            },

            // Actions
            switchTab: function(tab) {
                this.state.tab = tab;
                this.state.selectedItem = null;
                this.state.mobileMenuOpen = false;
                window.scrollTo(0, 0);
                this.renderNav();
                this.renderContent();
            },
            toggleLang: function() {
                this.state.lang = this.state.lang === 'de' ? 'en' : 'de';
                this.renderNav();
                this.renderContent();
            },
            toggleMobileMenu: function() {
                this.state.mobileMenuOpen = !this.state.mobileMenuOpen;
                const menu = document.getElementById('mobile-nav');
                const icon = document.getElementById('mobile-menu-icon');
                if (this.state.mobileMenuOpen) {
                    menu.classList.remove('hidden');
                    icon.setAttribute('data-lucide', 'x');
                } else {
                    menu.classList.add('hidden');
                    icon.setAttribute('data-lucide', 'menu');
                }
                lucide.createIcons();
            },
            setMcFilter: function(filter) {
                this.state.mcFilter = filter;
                this.renderContent();
            },
            selectItem: function(itemId) {
                this.state.selectedItem = database.find(i => i.id === itemId);
                this.state.activeDetailTab = 'overview';
                this.renderContent();
                window.scrollTo(0,0);
            },
            setActiveDetailTab: function(tab) {
                this.state.activeDetailTab = tab;
                this.renderContent(); // Re-render detail view
            },

            // --- RENDERING ---
            renderNav: function() {
                const navContainer = document.getElementById('desktop-nav');
                const tabs = [
                    { id: 'home', icon: 'box', label: this.t('nav_home') },
                    { id: 'minecraft', icon: 'box', label: this.t('nav_mc') },
                    { id: 'website', icon: 'globe', label: this.t('nav_web') },
                    { id: 'app', icon: 'smartphone', label: this.t('nav_apps') },
                ];

                let html = tabs.map(tab => `
                    <button onclick="app.switchTab('${tab.id}')" 
                        class="px-4 py-2 rounded flex items-center gap-2 transition font-medium ${this.state.tab === tab.id ? 'text-white bg-[#333]' : 'text-gray-400 hover:text-white hover:bg-[#222]'}">
                        <i data-lucide="${tab.icon}" width="16"></i> ${tab.label}
                    </button>
                `).join('');

                // Hire Me Button
                html += `
                    <button onclick="app.openHireModal()" 
                        class="px-4 py-2 rounded flex items-center gap-2 transition font-medium bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:shadow-[0_0_15px_rgba(147,51,234,0.5)] border border-purple-400/30">
                        <i data-lucide="briefcase" width="16"></i> ${this.t('nav_hire')}
                    </button>
                    
                    <div class="ml-4 pl-4 border-l border-[#333] flex gap-2">
                        <button onclick="app.setLang('de')" class="text-xs font-bold px-2 py-1 rounded transition ${this.state.lang === 'de' ? 'bg-purple-600 text-white' : 'text-gray-500 hover:text-white'}">DE</button>
                        <button onclick="app.setLang('en')" class="text-xs font-bold px-2 py-1 rounded transition ${this.state.lang === 'en' ? 'bg-purple-600 text-white' : 'text-gray-500 hover:text-white'}">EN</button>
                    </div>
                `;
                navContainer.innerHTML = html;

                // Mobile Nav
                const mobNav = document.getElementById('mobile-nav');
                let mobHtml = tabs.map(tab => `
                    <button onclick="app.switchTab('${tab.id}')" class="w-full text-left px-6 py-4 border-b border-[#333] font-bold text-gray-300 hover:bg-[#333] hover:text-white">
                        ${tab.label}
                    </button>
                `).join('');
                mobHtml += `<button onclick="app.openHireModal(); app.toggleMobileMenu()" class="w-full text-left px-6 py-4 border-b border-[#333] font-bold text-purple-400 bg-purple-900/10">${this.t('nav_hire')}</button>`;
                mobNav.innerHTML = mobHtml;

                // Update Mobile Lang Toggle Text
                document.getElementById('lang-toggle-mobile').innerText = this.state.lang.toUpperCase();
                document.getElementById('lang-toggle-mobile').onclick = () => this.toggleLang();

                lucide.createIcons();
            },

            setLang: function(l) {
                this.state.lang = l;
                this.renderNav();
                this.renderContent();
            },

            renderContent: function() {
                const container = document.getElementById('app-content');
                
                if (this.state.tab === 'home') {
                    container.innerHTML = this.renderHome();
                } else if (this.state.tab === 'minecraft') {
                    if (this.state.selectedItem) {
                        container.innerHTML = this.renderMinecraftDetail(this.state.selectedItem);
                    } else {
                        container.innerHTML = this.renderMinecraftList();
                    }
                } else if (this.state.tab === 'website') {
                    container.innerHTML = this.renderWebsites();
                } else if (this.state.tab === 'app') {
                    container.innerHTML = this.renderApps();
                }
                lucide.createIcons();
            },

            // --- TAB RENDERERS ---
            renderHome: function() {
                const featured = database.filter(i => i.featured && i.visible !== false).slice(0, 8);
                let gridHtml = featured.length > 0 ? featured.map(item => this.renderCard(item)).join('') : `<div class="col-span-4 text-center text-gray-500 py-10">${this.t('no_entries')}</div>`;

                return `
                    <div class="animate-fade-in">
                        <div class="bg-gradient-to-r from-purple-900 via-indigo-900 to-slate-900 py-16 px-4 text-center mb-10 relative overflow-hidden">
                            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"></div>
                            <h1 class="text-4xl md:text-5xl font-extrabold text-white mb-4 relative z-10">${this.t('hero_title')}</h1>
                            <p class="text-purple-200 text-lg max-w-2xl mx-auto relative z-10">${this.t('hero_sub')}</p>
                        </div>
                        <div class="max-w-7xl mx-auto px-4 pb-20">
                            <div class="flex items-center gap-3 mb-6">
                                <i data-lucide="star" class="text-yellow-500 fill-yellow-500"></i>
                                <h2 class="text-2xl font-bold text-white">${this.t('top_projects')}</h2>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                ${gridHtml}
                            </div>
                        </div>
                    </div>
                `;
            },

            renderCard: function(item) {
                let clickAction = '';
                if(item.category === 'minecraft') clickAction = `app.switchTab('minecraft'); app.selectItem('${item.id}')`;
                else if(item.category === 'website') clickAction = `window.open('${item.url}', '_blank')`;
                else clickAction = `app.switchTab('app')`;

                let img = item.images && item.images[0] ? `<img src="${item.images[0]}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />` : `<i data-lucide="box" class="text-gray-700 w-16 h-16"></i>`;
                if (item.image) img = `<img src="${item.image}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />`;

                return `
                    <div onclick="${clickAction}" class="bg-[#252525] rounded-lg overflow-hidden border border-[#333] hover:border-purple-500 transition-all cursor-pointer group shadow-lg flex flex-col h-full">
                        <div class="h-40 bg-[#151515] relative overflow-hidden flex items-center justify-center">
                            ${img}
                            <div class="absolute top-2 right-2 bg-black/70 text-xs px-2 py-1 rounded text-white border border-white/10 uppercase font-bold backdrop-blur-sm">
                                ${item.subcategory || item.category}
                            </div>
                        </div>
                        <div class="p-4 flex flex-col flex-1">
                            <h3 class="font-bold text-white text-lg truncate mb-1 group-hover:text-purple-400">${this.getLoc(item.title)}</h3>
                            <p class="text-gray-400 text-sm line-clamp-2 mb-3 flex-1">${this.getLoc(item.shortDesc)}</p>
                            <div class="flex justify-between items-center text-xs text-gray-500 border-t border-[#333] pt-3">
                                <div class="flex items-center gap-1"><i data-lucide="user" width="12"></i> ${item.author}</div>
                                <div>${item.client}</div>
                            </div>
                        </div>
                    </div>
                `;
            },

            renderMinecraftList: function() {
                const items = database.filter(i => i.category === 'minecraft' && i.visible !== false && (this.state.mcFilter === 'all' || i.subcategory === this.state.mcFilter));
                
                // Filters
                const filters = ['all', 'Plugin', 'Resource Pack', 'Datapack'].map(f => {
                    let label = f === 'all' ? this.t('filter_all') : (f === 'Plugin' ? this.t('filter_plugin') : (f === 'Resource Pack' ? this.t('filter_resourcepack') : this.t('filter_datapack')));
                    return `<button onclick="app.setMcFilter('${f}')" class="px-4 py-2 rounded text-sm font-medium transition ${this.state.mcFilter === f ? 'bg-purple-600 text-white shadow' : 'text-gray-400 hover:text-white'}">${label}</button>`;
                }).join('');

                // Rows
                const rows = items.map(item => `
                    <div class="grid grid-cols-1 md:grid-cols-12 gap-4 p-4 hover:bg-[#2a2a2a] transition items-center group">
                        <div class="col-span-1 md:col-span-7 flex gap-4 items-start md:items-center">
                            <div class="w-12 h-12 bg-[#151515] rounded border border-[#333] flex items-center justify-center flex-shrink-0 overflow-hidden">
                                ${item.images && item.images[0] ? `<img src="${item.images[0]}" class="w-full h-full object-cover"/>` : '<i data-lucide="box" class="text-purple-500"></i>'}
                            </div>
                            <div>
                                <h3 onclick="app.selectItem('${item.id}')" class="text-purple-400 font-bold text-lg cursor-pointer hover:underline decoration-purple-400">
                                    ${this.getLoc(item.title)} <span class="text-gray-500 text-sm font-normal ml-2">${item.version}</span>
                                </h3>
                                <p class="text-gray-400 text-sm">${this.getLoc(item.shortDesc)}</p>
                                <div class="md:hidden text-xs text-gray-500 mt-1">${this.t('label_author')}: ${item.author}</div>
                            </div>
                        </div>
                        <div class="hidden md:flex col-span-2 text-sm text-gray-300 items-center">
                            <span class="bg-[#1a1a1a] px-2 py-1 rounded border border-[#333] text-xs font-mono">${item.subcategory}</span>
                        </div>
                        <div class="hidden md:block col-span-2 text-sm text-gray-400">
                            <div class="flex items-center gap-1"><i data-lucide="download" width="12"></i> ${item.downloads}</div>
                            <div class="flex items-center gap-1 text-yellow-500 text-xs">
                                ${Array(5).fill(0).map((_,i) => `<i data-lucide="star" width="10" class="${i < item.rating ? 'fill-current' : 'text-gray-700'}"></i>`).join('')}
                            </div>
                        </div>
                        <div class="col-span-1 md:col-span-1 flex justify-end">
                            <button onclick="app.selectItem('${item.id}')" class="bg-[#333] hover:bg-purple-600 text-white p-2 rounded transition"><i data-lucide="chevron-right"></i></button>
                        </div>
                    </div>
                `).join('');

                return `
                    <div class="max-w-7xl mx-auto px-4 py-8 animate-fade-in">
                        <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                            <div><h2 class="text-3xl font-bold text-white">${this.t('mc_title')}</h2><p class="text-gray-400">${this.t('mc_sub')}</p></div>
                            <div class="flex bg-[#252525] p-1 rounded-lg">${filters}</div>
                        </div>
                        <div class="bg-[#252525] rounded-lg border border-[#333] overflow-hidden">
                            <div class="hidden md:grid grid-cols-12 gap-4 bg-[#303030] p-3 text-sm font-bold text-gray-300 border-b border-[#444]">
                                <div class="col-span-7 pl-2">${this.t('table_resource')}</div>
                                <div class="col-span-2">${this.t('table_category')}</div>
                                <div class="col-span-2">${this.t('table_stats')}</div>
                                <div class="col-span-1 text-right pr-2">${this.t('table_action')}</div>
                            </div>
                            <div class="divide-y divide-[#333]">
                                ${rows || `<div class="p-8 text-center text-gray-500">${this.t('no_entries')}</div>`}
                            </div>
                        </div>
                    </div>
                `;
            },

            renderMinecraftDetail: function(item) {
                // Header
                let header = `
                    <div class="bg-[#252525] border border-[#333] rounded-t-lg p-6 mb-0 flex flex-col md:flex-row gap-6 relative overflow-hidden">
                        <div class="absolute top-0 right-0 w-64 h-64 bg-purple-600/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/3"></div>
                        <div class="w-24 h-24 bg-black rounded-lg border border-purple-500/50 flex-shrink-0 flex items-center justify-center overflow-hidden shadow-2xl relative z-10">
                            ${item.images && item.images[0] ? `<img src="${item.images[0]}" class="w-full h-full object-cover"/>` : `<i data-lucide="box" class="text-purple-500"></i>`}
                        </div>
                        <div class="flex-1 relative z-10">
                            <h1 class="text-3xl font-bold text-white mb-1">${this.getLoc(item.title)}</h1>
                            <p class="text-gray-400 text-lg mb-2">${this.getLoc(item.shortDesc)}</p>
                            <div class="flex flex-wrap items-center gap-4 text-sm text-gray-500">
                                <span class="flex items-center gap-1"><i data-lucide="user" width="14"></i> ${item.author}</span>
                                <span>‚Ä¢</span>
                                <span class="bg-[#333] px-2 py-0.5 rounded text-xs text-gray-300 border border-[#444]">${item.version}</span>
                                <span>‚Ä¢</span>
                                <span>${this.getLoc(item.updated)}</span>
                            </div>
                        </div>
                        <div class="flex flex-col gap-2 min-w-[200px] relative z-10">
                            <button onclick="app.initDownload('${item.id}')" class="bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 px-4 rounded text-center shadow-lg hover:shadow-purple-500/20 transition flex items-center justify-center gap-2 transform active:scale-95"><i data-lucide="download" width="18"></i> ${this.t('detail_download')}</button>
                            ${item.requiresResourcePack ? `<button onclick="app.downloadFile('${item.links.resourcePackFile}')" class="bg-[#333] hover:bg-[#444] text-white font-medium py-2 px-4 rounded text-center border border-yellow-600/50 text-xs flex items-center justify-center gap-2 transition"><i data-lucide="file-archive" width="14" class="text-yellow-500"></i> ${this.t('btn_download_rp')}</button>` : ''}
                        </div>
                    </div>
                `;

                // Tabs
                let active = this.state.activeDetailTab;
                let tabs = `
                    <div class="bg-[#1f1f1f] border-x border-b border-[#333] px-4 py-0 mb-6 flex gap-1 overflow-x-auto sticky top-16 z-40 shadow-md">
                        <div onclick="app.setActiveDetailTab('overview')" class="px-4 py-3 border-b-2 font-medium cursor-pointer transition ${active === 'overview' ? 'border-purple-500 text-white' : 'border-transparent text-gray-400 hover:text-white'}">${this.t('detail_overview')}</div>
                        <div onclick="app.setActiveDetailTab('history')" class="px-4 py-3 border-b-2 font-medium cursor-pointer transition ${active === 'history' ? 'border-purple-500 text-white' : 'border-transparent text-gray-400 hover:text-white'}">${this.t('detail_history')}</div>
                        ${item.config ? `<div onclick="app.setActiveDetailTab('config')" class="px-4 py-3 border-b-2 font-medium cursor-pointer transition ${active === 'config' ? 'border-purple-500 text-white' : 'border-transparent text-gray-400 hover:text-white'}">${this.t('detail_config')}</div>` : ''}
                    </div>
                `;

                // Content
                let content = '';
                if (active === 'overview') {
                    content = `
                        <div class="animate-fade-in">
                            ${item.requiresResourcePack ? `<div class="bg-yellow-900/20 border border-yellow-600/50 rounded-lg p-4 flex gap-3 items-start mb-6"><i data-lucide="alert-triangle" class="text-yellow-500 shrink-0 mt-1"></i><div><h4 class="text-yellow-500 font-bold text-sm mb-1">${this.t('download_rp_warn')}</h4><p class="text-gray-300 text-sm">${this.t('download_rp_text')}</p></div></div>` : ''}
                            <div class="bg-[#252525] border border-[#333] p-6 rounded-lg text-gray-300">
                                <div class="prose prose-invert max-w-none prose-headings:text-purple-400 prose-a:text-purple-400">${this.getLoc(item.description)}</div>
                                ${item.images && item.images.length ? `<div class="mt-8 space-y-4"><h3 class="font-bold text-white border-b border-[#444] pb-2">${this.t('detail_gallery')}</h3><div class="grid grid-cols-2 gap-4">${item.images.map(img => `<div class="overflow-hidden rounded border border-[#444] group"><img src="${img}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500 cursor-pointer"/></div>`).join('')}</div></div>` : ''}
                            </div>
                        </div>
                    `;
                } else if (active === 'history') {
                    let rows = item.versionHistory ? item.versionHistory.map(v => `
                        <div class="p-4 grid grid-cols-12 text-sm hover:bg-[#2a2a2a] transition items-center">
                            <div class="col-span-3 font-mono text-purple-400 font-bold">${v.ver}</div>
                            <div class="col-span-3 text-gray-400 flex items-center gap-1"><i data-lucide="clock" width="12"></i> ${v.date}</div>
                            <div class="col-span-5 text-gray-300">${v.desc}</div>
                            <div class="col-span-1 flex justify-end"><button class="text-gray-500 hover:text-white"><i data-lucide="download" width="16"></i></button></div>
                        </div>
                    `).join('') : '<div class="p-8">No History</div>';
                    
                    content = `
                        <div class="bg-[#252525] border border-[#333] rounded-lg overflow-hidden animate-fade-in">
                            <div class="p-4 border-b border-[#333] bg-[#303030] grid grid-cols-12 font-bold text-sm text-gray-300">
                                <div class="col-span-3">${this.t('ver_version')}</div>
                                <div class="col-span-3">${this.t('ver_date')}</div>
                                <div class="col-span-6">${this.t('ver_changelog')}</div>
                            </div>
                            <div class="divide-y divide-[#333]">${rows}</div>
                        </div>
                    `;
                } else if (active === 'config') {
                    content = `
                        <div class="bg-[#252525] border border-[#333] rounded-lg overflow-hidden animate-fade-in relative group">
                            <div class="absolute top-4 right-4 z-10">
                                <button onclick="app.copyConfig()" class="bg-[#333] hover:bg-[#444] text-gray-300 px-3 py-1.5 rounded flex items-center gap-2 text-xs font-bold border border-[#555] shadow-lg transition">
                                    <i data-lucide="copy" width="14"></i> ${this.t('config_copy')}
                                </button>
                            </div>
                            <div class="bg-[#1e1e1e] p-2 pl-4 text-xs font-mono text-gray-500 border-b border-[#333] flex items-center gap-2"><i data-lucide="file-code" width="14"></i> config.yml</div>
                            <pre class="p-4 overflow-x-auto text-sm font-mono text-gray-300 leading-relaxed custom-scrollbar"><code id="config-content">${item.config}</code></pre>
                        </div>
                    `;
                }

                // Info Sidebar
                let sidebar = `
                    <div class="space-y-4">
                        <div class="bg-[#252525] border border-[#333] p-4 rounded-lg">
                            <h3 class="font-bold text-white mb-3 text-sm uppercase tracking-wide border-b border-[#333] pb-2">${this.t('detail_info')}</h3>
                            <div class="space-y-3 text-sm">
                                <div class="flex justify-between items-center pb-2 border-b border-[#333] border-dashed"><span class="text-gray-500">${this.t('label_author')}</span> <span class="text-gray-300 font-medium">${item.author}</span></div>
                                <div class="pt-1">
                                    <span class="text-gray-500 block mb-2">${this.t('label_client')}</span>
                                    <div class="flex items-center gap-3 bg-[#1a1a1a] p-2 rounded border border-[#333]">
                                        ${item.clientImage ? `<img src="${item.clientImage}" class="w-8 h-8 rounded-full border border-purple-500/30"/>` : `<div class="w-8 h-8 rounded-full bg-purple-900 flex items-center justify-center text-xs font-bold">Client</div>`}
                                        <div class="flex-1">
                                            <div class="font-bold text-white">${item.client}</div>
                                            <div class="flex gap-2 mt-0.5">
                                                ${item.clientLinks?.youtube ? `<a href="${item.clientLinks.youtube}" target="_blank" class="text-gray-500 hover:text-red-500"><i data-lucide="youtube" width="14"></i></a>` : ''}
                                                ${item.clientLinks?.discord ? `<a href="${item.clientLinks.discord}" target="_blank" class="text-gray-500 hover:text-indigo-400"><i data-lucide="message-circle" width="14"></i></a>` : ''}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex justify-between items-center pt-2"><span class="text-gray-500">${this.t('label_downloads')}</span> <span class="text-gray-300">${item.downloads}</span></div>
                                <div class="flex justify-between items-center"><span class="text-gray-500">${this.t('label_type')}</span> <span class="text-purple-400 bg-purple-900/10 px-2 py-0.5 rounded border border-purple-500/20 text-xs">${item.subcategory}</span></div>
                            </div>
                        </div>
                        <div class="bg-[#252525] border border-[#333] p-4 rounded-lg">
                            <h3 class="font-bold text-white mb-3 text-sm uppercase tracking-wide border-b border-[#333] pb-2">${this.t('detail_links')}</h3>
                            <div class="grid grid-cols-2 gap-2">
                                ${item.links.spigot ? `<a href="${item.links.spigot}" target="_blank" class="bg-[#facc15]/5 text-[#facc15] border border-[#facc15]/20 hover:bg-[#facc15]/10 py-2 rounded text-center text-sm font-bold transition flex items-center justify-center gap-1"><i data-lucide="box" width="14"></i> SpigotMC</a>` : ''}
                                ${item.links.modrinth ? `<a href="${item.links.modrinth}" target="_blank" class="bg-[#22c55e]/5 text-[#22c55e] border border-[#22c55e]/20 hover:bg-[#22c55e]/10 py-2 rounded text-center text-sm font-bold transition flex items-center justify-center gap-1"><i data-lucide="box" width="14"></i> Modrinth</a>` : ''}
                            </div>
                        </div>
                    </div>
                `;

                return `
                    <div class="max-w-7xl mx-auto px-4 py-8 animate-fade-in relative">
                        <button onclick="app.switchTab('minecraft')" class="text-gray-400 hover:text-white mb-4 flex items-center text-sm transition">&larr; ${this.t('detail_back')}</button>
                        ${header}
                        ${tabs}
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                            <div class="lg:col-span-2 space-y-6">${content}</div>
                            <div>${sidebar}</div>
                        </div>
                    </div>
                `;
            },

            renderWebsites: function() {
                const items = database.filter(i => i.category === 'website' && i.visible !== false);
                const grid = items.map(item => `
                    <div class="bg-[#252525] border border-[#333] rounded-lg overflow-hidden hover:shadow-xl hover:shadow-purple-900/10 transition group">
                        <div class="h-48 overflow-hidden relative">
                            <img src="${item.image}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500"/>
                            <div class="absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center">
                                <a href="${item.url}" target="_blank" class="bg-white text-black px-6 py-2 rounded-full font-bold flex items-center gap-2 transform translate-y-4 group-hover:translate-y-0 transition"><i data-lucide="external-link" width="16"></i> ${this.t('web_visit')}</a>
                            </div>
                        </div>
                        <div class="p-6">
                            <h3 class="text-xl font-bold text-white mb-2">${this.getLoc(item.title)}</h3>
                            <p class="text-gray-400 text-sm mb-4">${this.getLoc(item.shortDesc)}</p>
                            <div class="text-xs text-purple-400 bg-purple-900/20 inline-block px-2 py-1 rounded border border-purple-500/20">${this.t('label_client')}: ${item.client}</div>
                        </div>
                    </div>
                `).join('');
                return `
                    <div class="max-w-7xl mx-auto px-4 py-12 animate-fade-in">
                        <h2 class="text-3xl font-bold text-white mb-8 border-l-4 border-purple-500 pl-4">${this.t('web_title')}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">${grid || `<div class="col-span-3 text-center text-gray-500">${this.t('no_entries')}</div>`}</div>
                    </div>
                `;
            },

            renderApps: function() {
                const items = database.filter(i => i.category === 'app' && i.visible !== false);
                const grid = items.map(item => `
                    <div class="bg-[#252525] border border-[#333] rounded-xl p-6 flex flex-col items-center text-center hover:border-green-500/50 transition">
                        <div class="w-24 h-24 bg-gray-800 rounded-2xl mb-4 overflow-hidden shadow-lg"><img src="${item.image}" class="w-full h-full object-cover"/></div>
                        <h3 class="text-xl font-bold text-white mb-2">${this.getLoc(item.title)}</h3>
                        <p class="text-gray-400 text-sm mb-6">${this.getLoc(item.shortDesc)}</p>
                        <button class="w-full bg-[#333] hover:bg-green-600 hover:text-white text-gray-300 py-2 rounded-lg font-bold transition">${this.t('app_details')}</button>
                    </div>
                `).join('');
                return `
                    <div class="max-w-7xl mx-auto px-4 py-12 animate-fade-in">
                        <h2 class="text-3xl font-bold text-white mb-8 border-l-4 border-green-500 pl-4">${this.t('app_title')}</h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">${grid || `<div class="col-span-4 text-center text-gray-500">${this.t('no_entries')}</div>`}</div>
                    </div>
                `;
            },

            // --- MODALS ---
            openHireModal: function() {
                this.state.hireStep = 1;
                this.state.hireData = { discord: '', request: '', purpose: '', coder: 'random', type: 'Plugin', deadline: '', noPublish: false, accepted: false };
                this.renderHireModal();
            },
            
            closeModal: function() {
                document.getElementById('modal-layer').innerHTML = '';
            },

            renderHireModal: function() {
                const layer = document.getElementById('modal-layer');
                const s = this.state.hireStep;
                const d = this.state.hireData;

                let content = '';
                if(s === 1) {
                    content = `
                        <div class="flex items-center gap-3 mb-2"><i data-lucide="briefcase" class="text-purple-400"></i><h2 class="text-2xl font-bold text-white">${this.t('hire_title')}</h2></div>
                        <p class="text-gray-400 mb-6 text-sm">${this.t('hire_desc')}</p>
                        <form onsubmit="event.preventDefault(); app.nextHireStep();" class="space-y-5">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q1')}</label><input type="text" required oninput="app.updateHireData('discord', this.value)" value="${d.discord}" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none" placeholder="peroonic#0000"></div>
                                <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q_type')}</label><select onchange="app.updateHireData('type', this.value)" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none"><option value="Plugin">${this.t('hire_type_plugin')}</option><option value="Website">${this.t('hire_type_web')}</option><option value="App">${this.t('hire_type_app')}</option><option value="Setup">${this.t('hire_type_setup')}</option><option value="Other">${this.t('hire_type_other')}</option></select></div>
                            </div>
                            <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q2')}</label><textarea required oninput="app.updateHireData('request', this.value)" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none h-24 resize-none">${d.request}</textarea></div>
                            <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q3')}</label><textarea required oninput="app.updateHireData('purpose', this.value)" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none h-20 resize-none">${d.purpose}</textarea></div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q4')}</label><select onchange="app.updateHireData('coder', this.value)" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none"><option value="random">${this.t('hire_coder_random')}</option><option value="peroonic">${this.t('hire_coder_peroonic')}</option></select></div>
                                <div><label class="block text-xs font-bold text-gray-500 uppercase mb-1">${this.t('hire_q_deadline')}</label><input type="date" oninput="app.updateHireData('deadline', this.value)" value="${d.deadline}" class="w-full bg-[#111] border border-[#333] rounded-lg p-3 text-white focus:border-purple-500 outline-none [color-scheme:dark]"></div>
                            </div>
                            <div class="flex items-center gap-3 bg-[#222]/50 p-3 rounded-lg border border-[#333]"><input type="checkbox" id="noPublish" onchange="app.updateHireData('noPublish', this.checked)" ${d.noPublish ? 'checked' : ''} class="w-5 h-5 accent-purple-600 rounded"><label for="noPublish" class="text-sm text-gray-300 cursor-pointer select-none">${this.t('hire_q5')}</label></div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                                <div class="bg-[#111] p-3 rounded-lg border border-[#333]"><div class="flex items-center gap-2 font-bold text-[10px] uppercase mb-1 text-green-400"><i data-lucide="message-circle" width="14"></i> ${this.t('hire_info_cost_title')}</div><p class="text-[10px] text-gray-400 leading-tight">${this.t('hire_info_cost')} <a href="#" class="underline text-purple-400 block mt-1">${this.t('hire_discord_link_text')}</a></p></div>
                                <div class="bg-[#111] p-3 rounded-lg border border-[#333]"><div class="flex items-center gap-2 font-bold text-[10px] uppercase mb-1 text-purple-400"><i data-lucide="shield-check" width="14"></i> ${this.t('hire_info_privacy_title')}</div><p class="text-[10px] text-gray-400 leading-tight">${this.t('hire_info_privacy')}</p></div>
                            </div>
                            <div class="pt-4 border-t border-[#333] space-y-4">
                                <div class="flex items-center gap-3"><input type="checkbox" id="accept" required onchange="app.updateHireData('accepted', this.checked)" ${d.accepted ? 'checked' : ''} class="w-5 h-5 accent-purple-600 rounded"><label for="accept" class="text-sm font-bold text-white cursor-pointer select-none">${this.t('hire_accept')}</label></div>
                                <button type="submit" id="btn-verify" ${!d.accepted ? 'disabled' : ''} class="w-full bg-purple-600 hover:bg-purple-500 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-4 rounded-xl shadow-lg transition-all transform active:scale-95">${this.t('hire_btn_verify')}</button>
                            </div>
                        </form>
                    `;
                } else if(s === 2) {
                    content = `
                        <div class="text-center py-10 animate-fade-in">
                            <div class="w-20 h-20 bg-purple-500/10 rounded-full flex items-center justify-center mx-auto mb-6"><i data-lucide="fingerprint" width="48" class="text-purple-500 animate-pulse"></i></div>
                            <h3 class="text-2xl font-bold text-white mb-2">${this.t('hire_verify_title')}</h3>
                            <button onclick="app.submitHireForm()" class="bg-white text-black font-bold py-4 px-10 rounded-full hover:shadow-[0_0_20px_rgba(255,255,255,0.3)] transition-all mt-6">${this.state.isSubmitting ? '...' : this.t('hire_verify_btn')}</button>
                        </div>
                    `;
                } else if(s === 3) {
                    content = `
                         <div class="text-center py-10 animate-fade-in">
                            <i data-lucide="check-circle-2" width="64" class="mx-auto text-green-500 mb-6"></i>
                            <h3 class="text-2xl font-bold text-white mb-2">${this.t('hire_success_title')}</h3>
                            <p class="text-gray-400 mb-8">${this.t('hire_success_msg')}</p>
                            <div class="mt-8"><button onclick="app.closeModal()" class="text-gray-500 hover:text-white transition-colors text-sm underline">Zur√ºck zur Seite</button></div>
                        </div>
                    `;
                }

                layer.innerHTML = `
                    <div class="fixed inset-0 flex items-center justify-center p-4 bg-black/95 backdrop-blur-lg animate-fade-in overflow-y-auto">
                        <div class="bg-[#1a1a1a] border border-purple-500/20 rounded-2xl max-w-2xl w-full shadow-2xl relative my-8">
                            <button onclick="app.closeModal()" class="absolute top-4 right-4 text-gray-500 hover:text-white transition-colors p-2"><i data-lucide="x" width="20"></i></button>
                            <div class="p-8">${content}</div>
                        </div>
                    </div>
                `;
                lucide.createIcons();
            },

            updateHireData: function(field, val) {
                this.state.hireData[field] = val;
                // re-render if checkbox to enable button
                if(field === 'accepted') {
                    const btn = document.getElementById('btn-verify');
                    if(val) btn.removeAttribute('disabled');
                    else btn.setAttribute('disabled', 'true');
                }
            },
            nextHireStep: function() {
                this.state.hireStep = 2;
                this.renderHireModal();
            },
            submitHireForm: function() {
                this.state.isSubmitting = true;
                this.renderHireModal();
                // Simulate network
                setTimeout(() => {
                    this.state.isSubmitting = false;
                    this.state.hireStep = 3;
                    this.renderHireModal();
                }, 1500);
            },

            // --- DOWNLOAD & MODAL LOGIC ---
            initDownload: function(itemId) {
                const item = database.find(i => i.id === itemId);
                if(item.requiresResourcePack) {
                    this.renderDownloadWarning(item);
                } else {
                    this.downloadFile(item.links.downloadFile);
                }
            },
            renderDownloadWarning: function(item) {
                const layer = document.getElementById('modal-layer');
                layer.innerHTML = `
                    <div class="fixed inset-0 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in">
                        <div class="bg-[#1f1f1f] border border-purple-500/50 rounded-lg p-6 max-w-md w-full shadow-2xl shadow-purple-900/40 transform scale-100">
                            <div class="flex items-center gap-3 mb-4 text-purple-400 border-b border-[#333] pb-3">
                                <i data-lucide="alert-triangle" width="24"></i>
                                <h3 class="text-xl font-bold text-white">${this.t('modal_title')}</h3>
                            </div>
                            <p class="text-gray-300 mb-6 leading-relaxed">${this.t('modal_text')}</p>
                            <div class="flex gap-3 justify-end">
                                <button onclick="app.closeModal()" class="px-4 py-2 rounded text-gray-400 hover:text-white hover:bg-[#333] transition">${this.t('modal_cancel')}</button>
                                <button onclick="app.closeModal(); app.downloadFile('${item.links.downloadFile}')" class="px-4 py-2 rounded bg-purple-600 hover:bg-purple-500 text-white font-bold shadow-lg shadow-purple-600/20 transition">${this.t('modal_confirm')}</button>
                            </div>
                        </div>
                    </div>
                `;
                lucide.createIcons();
            },
            downloadFile: function(filename) {
                const isZip = filename.endsWith('.zip');
                const content = isZip ? "PK... (Dummy ZIP)" : "Dummy JAR Content";
                const mime = isZip ? 'application/zip' : 'application/java-archive';
                const blob = new Blob([content], { type: mime });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url; a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            },
            copyConfig: function() {
                const text = document.getElementById('config-content').innerText;
                navigator.clipboard.writeText(text);
                alert(this.t('config_copied'));
            }
        };

        // Start the App
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>
